\ExplSyntaxOn
\msg_new:nnn{nwejm}{LuaLaTeX~mandatory}{This~ documentation~ has~ to~ be~
  compiled~ with~ LuaLaTeX~ only}
\sys_if_engine_luatex:F
{
  \msg_error:nn{nwejm}{LuaLaTeX~mandatory}
}
\ExplSyntaxOff

\documentclass[english,nolocaltoc]{nwejmart}
%
\DTMsavedate{release-date}{2024-02-08}
\newcommand{\releaseversion}{1.0.6}
%
\usepackage[nwejm]{denisbdoc}
\usepackage{tabulary}
\usepackage[firstpage]{draftwatermark}
%
\makeatletter
\patchcmd{\@mn@margintest}{\@tempswafalse}{\@tempswatrue}{}{}
\patchcmd{\@mn@margintest}{\@tempswafalse}{\@tempswatrue}{}{}
\reversemarginpar

\lst@InputCatcodes
\def\lst@DefEC{%
 \lst@CCECUse \lst@ProcessLetter
  ^^80^^81^^82^^83^^84^^85^^86^^87^^88^^89^^8a^^8b^^8c^^8d^^8e^^8f%
  ^^90^^91^^92^^93^^94^^95^^96^^97^^98^^99^^9a^^9b^^9c^^9d^^9e^^9f%
  ^^a0^^a1^^a2^^a3^^a4^^a5^^a6^^a7^^a8^^a9^^aa^^ab^^ac^^ad^^ae^^af%
  ^^b0^^b1^^b2^^b3^^b4^^b5^^b6^^b7^^b8^^b9^^ba^^bb^^bc^^bd^^be^^bf%
  ^^c0^^c1^^c2^^c3^^c4^^c5^^c6^^c7^^c8^^c9^^ca^^cb^^cc^^cd^^ce^^cf%
  ^^d0^^d1^^d2^^d3^^d4^^d5^^d6^^d7^^d8^^d9^^da^^db^^dc^^dd^^de^^df%
  ^^e0^^e1^^e2^^e3^^e4^^e5^^e6^^e7^^e8^^e9^^ea^^eb^^ec^^ed^^ee^^ef%
  ^^f0^^f1^^f2^^f3^^f4^^f5^^f6^^f7^^f8^^f9^^fa^^fb^^fc^^fd^^fe^^ff%
  ^^^^20ac^^^^0153^^^^0152% nouveau pour xetex
  ^^^^27e8%  Left-Pointing Angle Bracket
  ^^^^27e9% Right-Pointing Angle Bracket
  ^^00}
\lst@RestoreCatcodes
\makeatother
%
\indexsetup{level=\section*,toclevel=section,noclearpage}
\makeindex[columns=2]
\tcbset{index format=off}
%
\tcbset{listing options={escapechar=+}}
%
\SetWatermarkColor{gray!10}%
\SetWatermarkFontSize{20mm}%
\SetWatermarkText{\MakeUppercase{travail en cours}}%
%
\DeclareBibliographyCategory{examples}
\DeclareBibliographyCategory{documentation}
\addtocategory{examples}{shin,laz1,har}
\addtocategory{documentation}{Bitouze,Bitouze7}

\newcommand{\no}{\# }

\addbibresource{nwejm-fr.bib}
%
\newacronym{nwejm}{nwejm}{North-Western European Journal of Mathematics}
\newacronym{bap}{bap}{bounded approximation property}
\newacronym{msc}{msc}{Mathematical Subject Classification}
\newacronym{url}{url}{Uniform Resource Locator}
\newacronym{toc}{toc}{table of contents}
%
\newtheorem{article}
\newtheorem[style=definition]{fact}
\newtheorem[title=experience]{experience}
\newtheorem[title-plural=rings]{ring}
\newtheorem[title=ideal,title-plural=ideals]{ideal}
%
\newenumeration{conventions}
\newenumeration[singular=criterion]{criteria}
\newenumeration[singular=rôle,plural=rôles]{roles}
%
\DeclareMathOperator{\cat}{Cat}
\newcommand{\mybinop}{\mathbin{*}}
%
\begin{document}
\title[Documentation of the \LaTeX{} class of
\texorpdfstring{\nwejm}{NWEJM}]{Documentation of the \LaTeX{} class of \nwejm*{}
  for authors}%
%
\subtitle[Version \releaseversion{} (\DTMusedate{release-date})]{\small Version
  \releaseversion{} as of \DTMusedate{release-date}}%
%
\author[%
affiliation={%
  Université du Littoral Côte d'Opale, Laboratoire de math\'ematiques pures et
  appliqu\'ees (\nolinkurl{denis.bitouze@univ-littoral.fr})%
},%
]{Bitouzé, Denis}
\author[%
affiliation={%
  Université de Lille, Laboratoire Paul Painlevé UMR CNRS 8524 (\nolinkurl{philippe.heinrich@univ-lille.fr})%
},%
]{Heinrich, Philippe}
%
\maketitle
%
\etocarticlestylenomarks
\localtableofcontents
%
\DeclareFixedFootnote{\conseilslatex}{Et donne de façon subliminale quelques
  conseils \LaTeX{}. On consultera \autocite{Ensenbach} pour un panorama plus
  complet des commandes et extensions obsolètes (et autres erreurs).}
\DeclareFixedFootnote{\suitecompilations}{To automate these
  compilations, one can use the \program{latexmk} \enquote{compiler},
  provided by any recent  \TeX{} distribution, with the help of the
  \file{latexmkrc} configuration file attached to this class.}

\section{Introduction}
\label{sec-introduction}

\begin{dbremark}{Documentation: work in progress}{}
This documentation is a work in progress. Readers finding errors or with comments are invited to send them via the email address on the title page.
\end{dbremark}

\begin{dbwarning}{Class to be used}{}
  The \gls{nwejm} provides two \LaTeX{} classes:
  \begin{enumerate}
  \item The \nwejmcl{} designed for entire issues of the journal, and thus intended for the \nwejm{} managing team (and not for authors of articles);
  \item The \nwejmauthorcl{} for authors of articles to be published in \gls{nwejm}.
  \end{enumerate}
  Authors of articles should therefore take care to use the \nwejmauthorcl{}
  and \emph{not} the \nwejmcl{}.
\end{dbwarning}

\begin{dbwarning}{Required packages}{}
  In order to use the \nwejmauthorcl{}, it is necessary to have:
  \begin{itemize}
  \item A reasonably recent \hologo{TeX} distribution;
  \item The \Package{biblatex};
  \item The
    \href{https://www.ctan.org/pkg/biber}{\program{biber}}\footnote{Attention!
      The bibliography must be compiled not with the usual
      \program{bibtex}, but with \program{biber}. More details in
      \vref{wa-affichage-auteurs} and \vref{sec-bibliographie}.} program.
  \end{itemize}
  With Ubuntu for example, if \hologo{TeX}~Live is installed via the GNU/Linux distribution packages, those named \package{texlive-bibtex-extra} and
  \package{biber} are required.
\end{dbwarning}

The \LaTeX{} class \nwejmauthor{} is intended for authors wishing to publish an article in  \href{http://math.univ-lille1.fr/~nwejm/}{\gls{nwejm}}. The purpose of this class is:
\begin{enumerate}
\item To accurately reproduce the \nwejm{}'s layout, allowing thus authors to work on the layout of their document under real conditions;
\item To provide some tools (commands et environments) to facilitate the writing of documents, especially those containing mathematics.
\end{enumerate}

\begin{dbwarning}{\protect\lstinline+UTF-8+ input encoding required}{}
  The \nwejmauthorcl{} of \nwejm{} relies crucially on ×UTF-8× input encoding:
  \begin{itemize}
  \item It loads the \Package{inputenc}\footnote{%
      It is therefore advisable \emph{not} to load this package: see \vref{sec-canevas-de-fichier} for an outline of the source file for \nwejm{} and in particular for a typical preamble.%
      %
    }
    %
    with the \docAuxKey{utf8} option;
  \item It assumes that  \file{.tex} source files are indeed encoded in ×UTF-8×: make sure that your computer editor is correctly set for this input encoding.
  \end{itemize}
\end{dbwarning}

\begin{dbwarning}{Format and \hologo{pdfLaTeX} compilation}{}
  The composition of the \nwejm*{} volumes involves:
  \begin{itemize}
  \item The \hologo{LaTeX} format\footnote{In its \hologo{LaTeXe} version, the most
      common today.}. Commands of other formats such as \hologo{plainTeX} should therefore be avoided;
  \item The preferred compiler is \hologo{pdfLaTeX}. In particular, as the \hologo{LaTeX} is not used \emph{a priori}, we prefer:
    \begin{enumerate}
    \item \format{jpg}, \format{png} et
      \format{pdf}\footnote{The recommended format is \format{pdf} since it is vector-based so that the quality of the images is not degraded by resizing.} as image formats;
    \item Avoid \program{PostScript} code, especially via
      \program{PSTricks}, and use the \Package{TikZ} as drawing tool
      for instance.
    \end{enumerate}
  \end{itemize}
\end{dbwarning}

\section{Article's configuration}

\subsection{Language}
\label{sec:langue-de-larticle}

The \nwejm{} accepts articles in four languages:
\begin{itemize}
\item English
\item French
\item German
\item Dutch
\end{itemize}
and the \nwejmauthorcl{} allows to specify the language\footnote{The language is managed underhand by the \Package{babel}.} by using the following classes.
% \refKey{english}, \refKey{french}, \refKey{ngerman} \refKey{dutch}

\begin{docKey}{english}{}{no value, default option}
  This option sets English as article language.
\end{docKey}
\begin{docKey}{french}{}{no value}
  This option sets French as article language.
\end{docKey}
\begin{docKey}{german}{}{no value}
  This option sets German as article language. It as \docAuxKey{ngerman} as alias.
  \begin{dbremark}{\package*{babel} option underlying the \protect\refKey{german} option}{}
    The \refKey{german} language option of \nwejmauthorcl{} calls underhand the \docAuxKey*{ngerman} option of \Package*{babel}.
  \end{dbremark}
\end{docKey}
\begin{docKey}{dutch}{}{no value}
  This option sets Dutch as article language.
\end{docKey}

\begin{dbremark}{Default article language}{}
  If none of these options are specified, the default language is English.
\end{dbremark}

\subsection{Other configurations}
\label{sec:autr-conf}

\begin{docCommand}{articlesetup}{\marg{options}}
  This command allows you to configure the \meta{options} of the current article in key/value form.

  The only key provided for the time being is \refKey{gradient}.
  \begin{docKey}{gradient}{=\docValue{grad}\textbar\docValue{nabla}}{no default value, initially \docValue{grad}}
    This key allows you to specify how the gradient is displayed using the command \refCom{grad}.
  \end{docKey}
\end{docCommand}

\begin{dbwarning}{\protect\refCom{articlesetup} command: not in the preamble!}{}
  The\refCom{articlesetup} command must be \emph{exclusively} used in the body of the document (preferably just after ×\begin{document}×), otherwise the chosen configuration, although taken into account in the article alone, may not be taken into account in the complete volume!
\end{dbwarning}

\section{Preparing the article  \enquote{title}}
\label{sec-prep-de-lart}

This section lists commands, options and environment for \emph{preparing} the \enquote{title} of the article and its possible final part.

\subsection{Title, subtitle}
\label{sec-title}

\begin{docCommand}[doc new=2017-10-23]{title}{\oarg{alternative title {\normalfont\ttfamily\acrshort*{toc}}}\oarg{header alternative title}\marg{title}}
  This command defines for the current article:
  \begin{itemize}
  \item Its \meta{title} on the first page;
  \item Its \emph{possible} \meta{alternative title
      {\normalfont\ttfamily\acrshort*{toc}}} listed in:
    \begin{itemize}
    \item The volume in which the article will be published:
      \begin{itemize}
      \item In the \gls{toc};
      \item In the bookmarks;
      \end{itemize}
    \item In the \textsc{pdf} file of the stand-alone article, in the \enquote{Title} metadata;
    \end{itemize}
  \item Its \emph{possible} \meta{header alternative title} as a header\footnote{\Ie{} in current title.} on even-numbered pages.
  \end{itemize}
  The precise use of this command is summarized in \vref{tab-commande-title}.
\end{docCommand}

\begin{table}[htb]
  \centering
  \caption{Using the \protect\refCom{title} command (with two optional arguments)}
  \label{tab-commande-title}
\footnotesize%
\lstset{%
  deletekeywords={title},deletekeywords={[3]title},%
}
\begin{tabular}{|l|c|c|c|}
  \cline{2-4}
  \multicolumn{1}{c|}{}                                                                                                                             & first page                     & \gls{toc}                                            & header                \\\hline
  \lstinline+\title{+\meta{title}\lstinline+}+                                                                                                      & \multicolumn{3}{c|}{\meta{title}}                                                                                       \\\hline
  \lstinline+\title[+\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}\lstinline+]{+\meta{titre}\lstinline+}+                                    & \meta{title}                      & \multicolumn{2}{c|}{\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}}    \\\hline
  \lstinline+\title[][+\meta{alt. header}\lstinline+]{+\meta{title}\lstinline+}+                                                                 & \multicolumn{2}{c|}{\meta{title}} & \meta{alt. header}                                                        \\\hline
  \lstinline+\title[+\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}\lstinline+][+\meta{alt. header}\lstinline+]{+\meta{titre}\lstinline+}+ & \meta{title}                      & \meta{alt. {\normalfont\ttfamily\acrshort*{toc}}} & \meta{alt. header} \\\hline
\end{tabular}
\end{table}

\begin{docCommand}{subtitle}{\oarg{alternative subtitle {\normalfont\ttfamily\acrshort*{toc}}}\marg{subtitle}}
  This command defines \emph{if needed}, for the current article:
  \begin{itemize}
  \item Its \meta{subtitle} following the \meta{title} on the first page;
  \item Its \emph{possible} \meta{alternative subtitle
      {\normalfont\ttfamily\acrshort*{toc}}} following the
    \meta{title}\footnote{Or possible \meta{alternative title
        {\normalfont\ttfamily\acrshort*{toc}}}.} :
    \begin{itemize}
    \item In the issue where the article will be published:
      \begin{itemize}
      \item In the \gls{toc};
      \item In the bookmarks;
      \end{itemize}
    \item In the \textsc{pdf} file of the stand-alone, in the \enquote{Title} metadata.
    \end{itemize}
  \end{itemize}
\end{docCommand}

\begin{bodycode}[listing options={deletekeywords={[2]title}}]
\title[Treatise on Probability Calculus]{Treatise on Probability Calculus and its Applications}
\subtitle[Scope and limits of a Borelian project]{Scope and limits of a large-scale Borelian project (1921-1939)}
\end{bodycode}

\begin{dbremark}{Displaying titles ansd subtitles}{}
  In order to display the title and subtitle, it is necessary use the usual command \refCom{maketitle}.
\end{dbremark}

\subsection{Author(s)}
\label{sec-authors}

An article author is specified by means of the \refCom{author} command. In case of mutliple authors, it suffices to use several instances of the command.

\begin{docCommand}{author}{\oarg{options}\brackets{\meta{Last name}, \meta{First name}}}
  This optional command defines an article author.
\end{docCommand}
%
\begin{dbwarning}{Format of the author's first and last name}{}
  Care should be taken to ensure that:
  \begin{enumerate}
  \item The entry of the author's first and last name has the right syntax (identical to the one for \hologo{BibTeX} and \package{biblatex}):
    %
\begin{bodycode}[listing options={showspaces}]
"\meta{Last Name}", "\meta{First name}"
\end{bodycode}
    %
  \item Any diacritical characters (accents, ...) are included in the \meta{First name} et \meta{Last name} ;
  \item The \meta{Last name} be \emph{not} entered in upper case (except for the capital letter(s))\footnote{In French articles, this name will automatically be written in small capitals.}.
  \end{enumerate}

 The \enquote{Author} metadata of the generated \File{PDF} automatically contains the specified author(s).
\end{dbwarning}

The \refCom{author} command admits an optional argument to specify the
author's affilation(s) with one of  the \refKey{affiliation}
and \refKey{affiliationtagged} keys.

\begin{docKey}{affiliation}{={\oarg{tag}\marg{affiliation}}}{no
    default value,\\initially empty}
  This key is used to define a  (unique) \meta{affiliation}. For an
  author with several affiliation, this key is used as many times as necessary.

  In addition, each affiliation can take a \meta{tag} for reuse by
  another author.
\end{docKey}

\begin{docKey}{affiliationtagged}{={\marg{tag}}}{no
    default value, initially empty}
  This key allows you to specify a (unique) affiliation already
  defined and tagged for a previous author.
\end{docKey}

% \begin{bodycode}
% % Exemple où 2 auteurs partagent l'affiliation "\meta{affiliation$_3$}".
% \author[%
%   affiliation="\marg{affiliation$_1$}",%
%   affiliation="\marg{affiliation$_2$}",%
%   affiliation="\oarg{tag de l'affiliation$_3$}\marg{affiliation$_3$}",%
% ]{"\meta{Nom$_1$}", "\meta{Prénom$_1$}"}
% \author[%
%   affiliationtagged="\oarg{tag de l'affiliation$_3$}",%
% ]{"\meta{Nom$_2$}", "\meta{Prénom$_2$}"}
% \end{bodycode}

\begin{bodycode}
\author[
  affiliation={Laboratoire \textsc{sphere}, Universit\'e Paris Diderot}
  ]{Bustamante, Martha-Cecilia}
\author[
  affiliation=[aff2]{\textsc{lpma}, Universit\'e Pierre et Marie Curie},
  affiliation={\textsc{ghdso}, Universit\'e Paris-Sud}]{Cl\'ery, Matthias}
\author[
  affiliationtagged={aff2}
]{Mazliak, Laurent}
\end{bodycode}

\begin{dbwarning}{Brace pairs
    % des clés \refKey{affiliation} et \refKey{minibio}
    }{}
  In the presence of commas in the \meta{affiliation} value, a pair of braces
  around it is mandatory.
\end{dbwarning}

\begin{dbwarning}{Dislpay of first and last names of author(s)}{affichage-auteurs}
  To display the first and last names of the author(s), it is
  necessary:
  \begin{enumerate}
  \item To use the usual \refCom{maketitle} command;
  \item To do several compilations\suitecompilations{}:
    \begin{enumerate}
    \item \hologo{pdfLaTeX} ;
    \item \program{biber} ;
    \item \hologo{pdfLaTeX}.
    \end{enumerate}
  \end{enumerate}
\end{dbwarning}

\subsection{Summary}
\label{sec-resume}

\begin{docEnvironment}[doc description=\mandatory,doclang/environment content=abstract]{abstract}{}
  This  environment is intended to receive the article's \meta{abstract}.
\end{docEnvironment}

\subsection{Keywords}

\begin{docCommand}[doc
  description=\mandatory]{keywords}{\oarg{variant of keywords}\marg{keywords}}
  This command allows you to specify the article \meta{keywords}  in
  the form of a comma-separated list.

  The \enquote{Keywords} metadata of the generated \File{PDF} automatically 
  contains the specified \meta{keywords}.  If these contains
  characters (notably mathematical ones) that are not allowed in the
  metadata of  \file{PDF} files, an optional argument is to specify a
  \meta{variant of keywords} containing only allowed characters.
\end{docCommand}

\begin{bodycode}[listing options={deletekeywords={[5]keywords}}]
\keywords[N\string_p-space]{$\mathcal{N}_p$-space}
\end{bodycode}

\subsection{\texorpdfstring{\acrfull{msc}}{MSC}}

\begin{docCommand}[doc description=\mandatory]{msc}{\marg{\acrshort{msc}}}
  This command allows you to specify the \meta{\acrshort{msc}} of the article
  l'article in the form of a comma-separated list.
\end{docCommand}

\section{Generating the article title}
\label{sec-creation-du-titre}

The actual title of the article, combining all the elements entered in
\vref{sec-prep-de-lart}, is generated by the standard
\refCom{maketitle} command.

\begin{docCommand}[doc description=\mandatory]{maketitle}{}
  This command  \emph{displays} the article's \enquote{title}, i.e.:
  \begin{itemize}
  \item Its title and possible subtitle (\refCom{title} and
    \refCom{subtitle} commands);
  \item Its author(s),  in the form of their full name(s)
    (\refCom{author} command) and, in footnote, their respective affiliations;
  \item Its possible abstract (\refEnv{abstract} environment) ;
  \item Its keyword(s) (\refCom{keywords} command) ;
  \item Its \acrshort{msc} (\refCom{msc} command).
  \end{itemize}
\end{docCommand}

\begin{bodycode}[listing options={deletekeywords={[2]title,article},deletekeywords={[5]keywords}}]
\title[Le Traité du calcul des probabilités]{Le Traité du calcul des
  probabilités et de ses applications}
\subtitle[Étendue et limites d'un projet borélien]{Étendue et
  limites d'un projet borélien de grande envergure (1921-1939)}
%
\author[
  affiliation={Laboratoire \textsc{sphere}, Université Paris Diderot}
  ]{Bustamante, Martha-Cecilia}
\author[
  affiliation=[aff2]{\textsc{lpma}, Université Pierre et Marie Curie},
  affiliation={\textsc{ghdso}, Université Paris-Sud}]{Cléry, Matthias}
\author[
  affiliationtagged={aff2}
]{Mazliak, Laurent}
%
\begin{abstract}
  Cet article est consacré à l'étude détaillée du vaste projet [...]
\end{abstract}
%
\keywords{Probabilités, statistiques, balistique, assurance, jeux,
  Émile Borel, Institut Henri Poincaré}
\msc{01A60, 01A74, 60-03, 60A05, 62-03}
%
\maketitle
\end{bodycode}

\section{Acknowledgements}
\label{sec:remerciements}

\begin{docCommand}{acknowledgements}{\marg{thanks}}
  This optional command allows you to specify \meta{thanks} for an article.
\end{docCommand}

\begin{bodycode}[listing options={deletekeywords={[2]first}}]
\acknowledgments{%
  The first author's research was supported by the Hungarian National
  Science Foundation Grants K81658 and K104183. Research conducted
  while the second author enjoyed the hospitality of the Alfréd Rényi
  Institute of  Mathematics, and benefited from the \textsc{otka}
  grant K109789.%
}
\end{bodycode}

\begin{dbremark}{Displaying acknowledgements}{}
  For the acknowledgements to be displayed, it is necessary to use the
  \refCom{printbibliography} command at the end of the article.
\end{dbremark}

\section{Structuring commands}

The \nwejmauthorcl{} modifies the usual 
\docAuxCommand{section} structuring command in order to differentiate
the alternative title in \gls{toc} from that in the
header\footnote{Note, from this point of view, the similarity with the
  \protect\refCom{title} command.}.

\begin{docCommand}[doc new=2017-10-23]{section}{\oarg{alternative title {\normalfont\ttfamily\acrshort*{toc}}}\oarg{alternative title header}\marg{title}}
  This command defines for the current section:
  \begin{itemize}
  \item Its \meta{title} appearing throughout the text;
  \item Its \emph{possible} \meta{alternative title
      {\normalfont\ttfamily\acrshort*{toc}}} appearing in the issue
    where the article will be published:
    \begin{itemize}
    \item In the \gls{toc};
    \item As a bookmark.
    \end{itemize}
  \item Its \emph{possible} \meta{alternative title
      header}\footnote{\Ie{} in the current title.} appearing
    on odd-numbered pages.
  \end{itemize}
  The precise use of this command is summarised in \vref{tab-commande-section}.
\end{docCommand}

\begin{table}[htb]
  \centering
  \caption{Use (of the two optional arguments) of the 
    \protect\refCom{section} command}
  \label{tab-commande-section}
\footnotesize%
\lstset{%
  deletekeywords={section},deletekeywords={[3]section},%
}
\begin{tabular}{|l|c|c|c|}
  \cline{2-4}
  \multicolumn{1}{c|}{}
  & text flow                     & \gls{toc}                                            & header                \\\hline
  \lstinline+\section{+\meta{title}\lstinline+}+                                                                                                      & \multicolumn{3}{c|}{\meta{title}}                                                                                       \\\hline
  \lstinline+\section[+\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}\lstinline+]{+\meta{title}\lstinline+}+                                    & \meta{title}                      & \multicolumn{2}{c|}{\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}}    \\\hline
  \lstinline+\section[][+\meta{alt. header}\lstinline+]{+\meta{title}\lstinline+}+                                                                 & \multicolumn{2}{c|}{\meta{title}} & \meta{alt. header}                                                        \\\hline
  \lstinline+\section[+\meta{alt. {\normalfont\ttfamily\acrshort*{toc}}}\lstinline+][+\meta{alt. header}\lstinline+]{+\meta{title}\lstinline+}+ & \meta{title}                      & \meta{alt. {\normalfont\ttfamily\acrshort*{toc}}} & \meta{alt. header} \\\hline
\end{tabular}
\end{table}

\section{Bibliography}
\label{sec-bibliographie}

To compose bibliographies, the \nwejmauthorcl{} uses modern tools such
as the \Package*{biblatex} and  \hologo{biber} engine. Their use can
be summarized as follows\autocite[for more details, see e.g.][in French]{Bitouze}.
\begin{enumerate}
\item Build a bibliographic database in a \meta{bibliographic file}\footnote{Such
    files have a \file{.bib} extension.}.

  To do this, we recommend to use a dedicated software,
  \href{http://jabref.sourceforge.net/}{\program{JabRef}} for
  instance, configured via the menu
  \menuentry{Options>Preferences>General} and by choosing:
  \begin{description}
  \item[\menuentry{Default encoding} :] \menuentry{UTF8} ;
  \item[\menuentry{Default bibliography mode} :] \menuentry{biblatex}.
  \end{description}
  By the way, we can change the interface language in the
  \menuentry{Language} drop-down list.

  Don't forget to assign a unique \meta{key} to each bibliographic
  reference\footnote{In \program{JabRef}, the 
    \enquote{magic wand} or key icon helps to generate the  \meta{key}.}.
\item In the \file{.tex} source file: 
  \begin{enumerate}
  \item \emph{In the preamble}, use the \docAuxCommand{addbibresource}
    command to specify the \meta{bibliographic file}:
\begin{preamblecode}[listing options={alsolanguage={[biblatex]TeX}}]
\addbibresource{"\meta{bibliographic file}".bib}
\end{preamblecode}
  \item In the body of the document, use the \docAuxCommand{autocite}
    command\footnote{Preferably to the \docAuxCommand{cite}
      command.}\footnote{The reference is then detailed in a
      footnote.}  or, optionally,  the \docAuxCommand{textcite}
    command\footnote{The reference is then displayed throughout the
      text, but with less details.} from the \Package*{biblatex} to
    cite  bibliographic references (each with a \meta{key}):
\begin{bodycode}[listing options={alsolanguage={[biblatex]TeX}}]
...\autocite{"\meta{key1}"}... \textcite{"\meta{key2}"} ...
...\autocite{"\meta{key3,key4}"}... \textcite{"\meta{key5,key6}"} ...
\end{bodycode}
  \item At the end of the document, list the bibliographic
    references by using the \refCom{printbibliography} command.
  \end{enumerate}
\item Perform the successive compilations \hologo{pdfLaTeX}, \hologo{biber}
  and 
  \hologo{pdfLaTeX}\suitecompilations.
\end{enumerate}

\begin{docCommand}{printbibliography}{}
  This command produces the bibliographic references list entered
  with respect to the  \Package*{biblatex} syntax. It has been
  redefined to automatically display the possible
  acknowledgements
  (\refCom{acknowledgements} command) before the references list.
\end{docCommand}

For example, if the \File{.bib} contains:

\begin{bodycode}[listing only,listing options={alsolanguage={[biblatex]TeX},deletekeywords={[2]series,geometry}}]
@Book{            har,
  author	= {Hartshorne, Robin},
  title		= {Algebraic geometry},
  note		= {Graduate Texts in Mathematics, No. 52},
  publisher	= {Springer-Verlag},
  address	= {New York},
  date		= {1977}
}
@Book{		  laz1,
  author	= {Lazarsfeld, Robert},
  title		= {Positivity in algebraic geometry. I},
  volume	= {48},
  note		= {Classical setting: line bundles and linear series},
  publisher	= {Springer-Verlag},
  address	= {Berlin},
  date		= {2004}
}
@Article{         shin,
  author	= {Shin, Kil-Ho},
  title		= {$3$-dimensional Fano varieties with canonical
                  singularities},
  journal	= {Tokyo J. Math.},
  volume	= {12},
  date		= {1989},
  number	= {2},
  pages		= {375-385}
}
\end{bodycode}

then the following \file{.tex} source file:
\begin{bodycode}[listing only,listing options={alsolanguage={[biblatex]TeX},deletekeywords={[1]theorem},deletekeywords={[2]first,and,see,theorem},deletekeywords={[3]theorem}}]
The first assertion is a direct consequence of the Riemann-Roch
formula for threefolds\autocite[See e.g.][437]{har} and
Kawamata-Viehweg vanishing\autocite[Theorem~4.3.1]{laz1}. For the
second assertion, see \textcite[Theorem~(0.4)]{shin}.
%
\printbibliography
\end{bodycode}

provides the text appeating in the box entitled  \enquote{An example
  of a bibliography} \vpageref{biblio}.

\ExplSyntaxOn
\makeatletter
\defbibheading{origsectionnotintoc}[References]{%
  \__nwejm_section*{#1}%
}
\makeatother
\ExplSyntaxOff
\renewcommand{\thempfootnote}{\arabic{mpfootnote}}
%
\begin{bodycode}[text only,float,title={An example of a bibliography},label=biblio]
The first assertion is a direct consequence of the Riemann-Roch formula for
threefolds\autocite[See e.g.][437]{har} and Kawamata-Viehweg
vanishing\autocite[Theorem~4.3.1]{laz1}. For the second assertion, see
\textcite[Theorem~(0.4)]{shin}.
%
\printbibliography[heading=origsectionnotintoc,category=examples]
\end{bodycode}
%
\renewcommand{\thempfootnote}{\alph{mpfootnote}}

\section{Mathematics-specific commands}
\label{sec:comm-propr-aux}

The \nwejmauthorcl{}:
\begin{itemize}
\item loads the following packages:
  \begin{itemize}
  \item \package*{kpfonts} which provides all the standards symbols,
    including those in the \Package{amssymb}, but also offers many others;
  \item \package*{mathtools} which itself loads \package*{amsmath}
    (but extends it and fixes some flaws), so that all the commands of
    both packages are available;
  \item \package*{rsfso} which provides nice calligraphic letters (via
    the \docAuxCommand{mathscr} command);
  \end{itemize}
\item redefines some commands and provides some new ones, listed below;
\item provides classical \enquote{theorem} environments (based on the
  \package*{amsthm} and \package*{thmtools} packages), listed below.
\end{itemize}

\subsection{Universal constants and usual functions}

\begin{docCommand}{I}{}
  This command displays the imaginary unit: \enquote{$\I$}.
\end{docCommand}

\begin{docCommand}{E}{\oarg{argument}}
 Depending on its optional  argument, this command displays:
  \begin{itemize}
  \item The exponential function applied to \meta{argument};
  \item The Euler number \enquote{$\E$}.
  \end{itemize}
\end{docCommand}

\begin{bodycode}[listing and text]
\begin{align}
  \E[\I\pi]+1 & = 0 \\
  \E          & = \sum_{n\geq 0} \frac{1}{n!}
\end{align}
\end{bodycode}

\begin{dbremark}{Equivalent syntaxes  for the exponential function}{}
  There is equivalence between:
  \begin{itemize}
  \item ×\E[×\meta{argument}×]× which is provided by the class;
  \item ×\E^{×\meta{argument}×}× which is more frequent.
\end{itemize}
\end{dbremark}

\begin{docCommand}{log(*)}{}
  This command displays in its:
  \begin{description}
  \item[\emph{not} starred form:] \enquote{$\log$};
  \item[starred form:] \enquote{$\log*$}.
  \end{description}
\end{docCommand}

\begin{docCommand}{lg(*)}{}
  This command displays in its: 
  \begin{description}
  \item[\emph{not} starred form:] \enquote{$\lg$};
  \item[starred form:] \enquote{$\lg*$}.
  \end{description}
\end{docCommand}

\subsection{Sets}

\subsubsection{Usual sets}

\begin{docCommand}{bbN}{}
  This  command displays the set of positive integers:
  \enquote{$\bbN$}.
\end{docCommand}

\begin{docCommand}{bbZ}{}
  This  command displays the set of relative integers:
  \enquote{$\bbZ$}.
\end{docCommand}

\begin{docCommand}{bbD}{}
  This  command displays the set of decimal numbers: \enquote{$\bbD$}.
\end{docCommand}

\begin{docCommand}{bbQ}{}
  This  command displays the set of rational numbers: \enquote{$\bbQ$}.
\end{docCommand}

\begin{docCommand}{bbR}{}
  This  command displays the set of real numbers: \enquote{$\bbR$}.
\end{docCommand}

\begin{docCommand}{bbC}{}
  This  command displays the set of complex numbers: \enquote{$\bbC$}.
\end{docCommand}

\begin{docCommand}{bbK}{}
  This command can be used to denote any field. It displays \enquote{$\bbK$}.
\end{docCommand}

\subsubsection{Defining sets}

\begin{docCommand}[doc updated=2019-03-18]{set}{\marg{definition}\oarg{characterization}}
  This  command displays the set defined by \meta{definition}, with an
  optional  \meta{characterization}\footnote{The part after
    \enquote{such that}.}.
\begin{bodycode}[listing and text]
\begin{align}
  \bbN & = \set{0,1,2,3,\dots}              \\
  \bbZ & = \bbN\cup\set{-n}[n\in\bbN]       \\
  \bbQ & = \set{p/q}[p\in\bbZ,\ q\in\bbN^*] \\
  \bbQ & = \set{\frac{p}{q}}[p\in\bbZ,\ q\in\bbN^*]
\end{align}
\end{bodycode}
\end{docCommand}

\subsection[Trigonometric and hyperbolic functions]{Trigonometric and
  hyperbolic functions, direct and inverse}

\begin{dbremark}{French-specific commands}{}
  The commands in this section are only defined  (or redefined) for articles in French.
\end{dbremark}

\begin{docCommand}{cot}{}
  This command displays  the cotangent function: \enquote{$\cot$}. Its
  alias is \docAuxCommand{cotan}.
\end{docCommand}

\begin{docCommand}{arccos}{}
  This command displays  (the principal value of)  the arccosine function:
  \enquote{\selectlanguage{French}$\arccos$}.
\end{docCommand}

\begin{docCommand}{arcsin}{}
  This command displays  (the principal value of)  the arcsine function:
  \enquote{\selectlanguage{French}$\arcsin$}.
\end{docCommand}

\begin{docCommand}{arctan}{}
  This command displays  (the principal value of)  the arctangent function:
  \enquote{\selectlanguage{French}$\arctan$}.
\end{docCommand}

\begin{docCommand}{cosh}{}
   This command displays  the hyperbolic cosine function:
   \enquote{\selectlanguage{French}$\cosh$}. Its alias is \docAuxCommand{ch}.
\end{docCommand}

\begin{docCommand}{sinh}{}
  This command displays  the hyperbolic sine function:
  \enquote{\selectlanguage{French}$\sinh$}. Its alias is \docAuxCommand{sh}.
\end{docCommand}

\begin{docCommand}{tanh}{}
  This command displays the hyperbolic tangent function:
  \enquote{\selectlanguage{French}$\tanh$}.
  \begin{dbremark}{No \protect\docAuxCommand{th} command  for the hyperbolic tangent function}{}
    The ×\th× command  is already defined in \LaTeX{} and therefore
    cannot be used for the hyperbolic tangent function.
  \end{dbremark}
\end{docCommand}

\begin{docCommand}{arccosh}{}
  This command displays  the inverse hyperbolic cosine function:
  \enquote{\selectlanguage{French}$\arccosh$}.
  Its alias is \docAuxCommand{Argch}.
\end{docCommand}

\begin{docCommand}{arcsinh}{}
  This command displays the inverse hyperbolic sine function:
  \enquote{\selectlanguage{French}$\arcsinh$}.  Its alias is
  \docAuxCommand{Argsh}.
\end{docCommand}

\begin{docCommand}{arctanh}{}
  This command displays the inverse hyperbolic tangent function:
  \enquote{\selectlanguage{French}$\arctanh$}.  Its alias is
  \docAuxCommand{Argth}.
\end{docCommand}


\subsection{Pairs of delimiters}

\subsubsection{Preset commands}

The class provides some commands listed in \vref{com-paired}, enabling
the entry of delimiter pairs, e.g. for norms, absolute values, etc.

\begin{table}
  \centering
  \begin{tabular}{ll}
    Commands               & Example           \\\toprule
    \docAuxCommand{norm}    & $\norm{\cdot}$    \\\midrule
    \docAuxCommand{lnorm}   & $\lnorm{\cdot}$   \\\midrule
    \docAuxCommand{llnorm}  & $\llnorm{\cdot}$  \\\midrule
    \docAuxCommand{lpnorm}  & $\lpnorm{\cdot}$  \\\midrule
    \docAuxCommand{supnorm} & $\supnorm{\cdot}$ \\\midrule
    \docAuxCommand{abs}     & $\abs{\cdot}$     \\\midrule
    \docAuxCommand{prt}     & $\prt{\cdot}$     \\\midrule
    \docAuxCommand{brk}     & $\brk{\cdot}$     \\\midrule
    \docAuxCommand{brc}     & $\brc{\cdot}$     \\\midrule
    \docAuxCommand{leqgeq}  & $\leqgeq{\cdot}$  \\\midrule
    \docAuxCommand{lrangle} & $\lrangle{\cdot}$ \\\bottomrule
  \end{tabular}
  \caption{Commands  enabling
the entry of usual delimiter pairs}
  \label{com-paired}
\end{table}

Since these commands all have the same syntax, only the
\docAuxCommand{norm} command  is detailed.

\begin{docCommand*}{norm}{\oarg{parameter size}\marg{argument}}
  This command displays the norm of \meta{argument}.

  The default delimeters height is automatically adjusted to the
  height of the \meta {argument} but it is possible to specify a
  \meta{size parameter} as an optional argument:
  \begin{itemize}
  \item \docValue{0}: default  delimiter size\footnote{Delimiter size in text mode.} ;
  \item \docValue{1} or \docAuxCommand{big}: delimiter size larger
    than the previous one;
  \item \docValue{2} or \docAuxCommand{Big}: delimiter size larger
    than the previous one;
  \item \docValue{3} or \docAuxCommand{bigg}: delimiter size larger
    than the previous one;
  \item \docValue{4} or \docAuxCommand{Bigg}: delimiter size larger
    than the previous one;
  \end{itemize}
\end{docCommand*}

\begin{docCommand}{norm*}{\marg{argument}}
  This command is equivalent to ×\norm[0]{×\meta{argument}×}×.
\end{docCommand}

\begin{bodycode}[listing and text]
\begin{equation}
\supnorm{\frac{A}{2}}^k    \quad
\supnorm[0]{\frac{A}{2}}^k \quad
\supnorm[1]{\frac{A}{2}}^k \quad
\supnorm[2]{\frac{A}{2}}^k \quad
\supnorm[3]{\frac{A}{2}}^k \quad
\supnorm[4]{\frac{A}{2}}^k \quad
\supnorm*{\frac{A}{2}}^k
\end{equation}
\end{bodycode}

\begin{dbremark}{Subscripts of delimiter pairs that do not have default ones}{}
  It is always possible to manually add a subscript to a delimiter
  pair command that does not have one by default. 
\begin{bodycode}[listing and text]
\begin{equation}
\norm{\frac{A}{2}}_3
\end{equation}
\end{bodycode}
\end{dbremark}

e\subsubsection{Defining new commands}

New commands that facilitate the entry of delimiter pairs can be
defined by using the  \refCom{NewPairedDelimiter} command.
%
\begin{docCommand}{NewPairedDelimiter}{\marg{command}\marg{options}}
  This command defines a \meta{command} similar to the
  \docAuxCommand{norm} command  but with left and right delimiters and
  subscript specified in \meta{options} by using  the \refKey{left},
  \refKey{right} and \refKey{subscript} keys.
  \begin{docKey}{left}{=\meta{delimiter}}{no default value, initially empty}
    This key is used to  specify the left \meta{delimiter} of the created \meta{command}.
  \end{docKey}
  \begin{docKey}{right}{=\meta{delimiter}}{no default value, initially empty}
    This key is used to  specify the right \meta{delimiter} of the created \meta{command}.
  \end{docKey}
  \begin{docKey}{subscript}{=\meta{subscript}}{no default value, initially empty}
     This key is used to  specify the \meta{subscript} of the
     created \meta{command}.
  \end{docKey}
\end{docCommand}

\NewPairedDelimiter{\floor}{
  left=\lfloor,
  right=\rfloor,
  subscript=\text{eff}
}
\begin{preamblecode}[listing options={morekeywords={[2]left,right,subscript}}]
\NewPairedDelimiter{\floor}{
  left=\lfloor,
  right=\rfloor,
  subscript=\text{eff}
}
\end{preamblecode}
\begin{bodycode}[listing and text]
\begin{equation}
\floor{\frac{A}{2}}
\end{equation}
\end{bodycode}

\subsection{Operators}

\subsubsection{Preset operators}

\begin{docCommand}{dif}{}
  This command displays the \enquote{$\dif$} differential operator used in particular in
  integrals.
\begin{bodycode}[listing and text]
\begin{equation}
\iiint_T f(x,y,z)\dif x \dif y \dif z=0
\end{equation}
\end{bodycode}
\end{docCommand}

\begin{docCommand}{grad}{}
  This command displays the gradient:
  \begin{itemize}
  \item in the \enquote{$\grad$} form by default;
  \item in the \enquote{$\nabla$} form if the \docValue{nabla} value
    is put in the \refKey{gradient} key  in  argument of \refCom{articlesetup} command.
  \end{itemize}
\end{docCommand}

\begin{docCommand}{Div}{}
   This command displays the divergence operator: \enquote{$\Div$}.
  \begin{dbremark}{No command \protect\docAuxCommand{div} for divergence}{}
    The ×\div× command is already defined in \LaTeX{} and therefore
    cannot be used for divergence.
  \end{dbremark}
\end{docCommand}

\begin{docCommand}{curl}{}
 This command displays the  rotational operator:
 \enquote{$\curl$}. Its alias is \docAuxCommand{rot}.
\end{docCommand}

\begin{bodycode}[listing and text]
\begin{align}
  \Div  F & = \grad \cdot  F \\
  \curl F & = \grad \wedge F
\end{align}
\end{bodycode}

\begin{docCommand}{supp}{}
  This command displays the support (of a function, of a measure, etc.):
  \enquote{$\supp$}.
\end{docCommand}

\subsubsection{Defining new operators}

New operators can be defined by using the usual  \refCom{DeclareMathOperator} command.

\begin{docCommand}{DeclareMathOperator}{\marg{command}\marg{name}}
  This command defines the \meta{command} displaying the operator
  named \meta{name}.
\end{docCommand}

\begin{preamblecode}
\DeclareMathOperator{\cat}{Cat}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={example},deletekeywords={[4]all}}]
A standard example is $\cat$, the $2$-category of all (small) ideals.
\end{bodycode}

\subsubsection{(Advanced use) Precautions for unusual binary operations}

If, in binary  operations, an operator\footnote{Preset or defined with
  the \protect\refCom{DeclareMathOperator} command.} is followed by a
usual binary \LaTeX{} operator (\docAuxCommand{circ},
\docAuxCommand{cdot}, \docAuxCommand{wedge}, etc.), the horizontal
spaces between them will be correct.

However, if the binary operator is not common, it should be declared by
using the \refCom{BinaryOperators} command.

\begin{docCommand}{BinaryOperators}{\marg{binary operators}}
  This command ensures that the \meta{binary operators}\footnote{Separated
    by commas.} will, in binary operations, properly space from the
  preceding operators.
\end{docCommand}

\begin{preamblecode}[listing options={moretexcs={mybinop}}]
\newcommand{\mybinop}{\mathbin{*}}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={moretexcs={mybinop}}]
\begin{tabular}{>{$}l<{$}@{ : }l}
  \grad \cdot    F & good     \\
  \grad \mybinop F & bad \\ \BinaryOperators{\mybinop}%
  \grad \mybinop F & good (thanks to \verb+\BinaryOperators{\mybinop}+)
\end{tabular}
\end{bodycode}

\subsection{Miscellaneous}

\begin{dbremark}{French-specific commands (bis)}{}
  The following commands are only redefined for French articles.
\end{dbremark}

\begin{docCommand}{leq}{}
  This command displays \enquote{\selectlanguage{French}$\leqslant$}.
\end{docCommand}
\begin{docCommand}{geq}{}
  This command displays \enquote{\selectlanguage{French}$\geqslant$}.
\end{docCommand}

\subsection{\enquote{Theorem} environments}

To easily compose theorems and similar objects, the 
\nwejmauthorcl{} provides ready-to-use environments and allows to
create new ones if needed (cf. \refCom{newtheorem} command).

\subsubsection{Preset environments}
\label{sec:envir-de-type}

\vref{env-theorems} on the next page lists  theorems and similar
objects predefined by the
\nwejmauthorcl{} with:
\begin{description}
\item[in column~1] The names of the corresponding environments;
\item[in column~2] Their recurring titles (automatically translated into
  the article language).
\end{description}

\begin{table}
  \centering
  \begin{tabular}{ll}
    Environment                   & Title (here in French) \\\toprule
    \docAuxEnvironment{theorem}     & Théorème                \\\midrule
    \docAuxEnvironment{corollary}   & Corollaire              \\\midrule
    \docAuxEnvironment{conjecture}  & Conjecture              \\\midrule
    \docAuxEnvironment{proposition} & Proposition             \\\midrule
    \docAuxEnvironment{lemma}       & Lemme                   \\\midrule
    \docAuxEnvironment{axiom}       & Axiome                  \\\midrule[.75pt]
    \docAuxEnvironment{definition}  & Définition              \\\midrule
    \docAuxEnvironment{remark}      & Remarque                \\\midrule
    \docAuxEnvironment{example}     & Example                 \\\midrule
    \docAuxEnvironment{notation}    & Notation                \\\midrule[.75pt]
    \docAuxEnvironment{proof}       & Preuve                  \\\bottomrule
  \end{tabular}
  \caption{\enquote{theorem}-like environments}
  \label{env-theorems}
\end{table}

\begin{dbremark}{Unnumbered \enquote{theorem}}{}
  Each  environment in  \vref{env-theorems} has a starred version
  that creates an unnumbered version of  a \enquote{theorem}-like
  object. 
\end{dbremark}

\begin{bodycode}[listing and text]
\begin{theorem}
  Every metrizable and sequentially compact space is compact.
\end{theorem}
\begin{definition}[congruence modulo $n$]
  Let $n$ be an integer greater than or equal to $2$. Two integers  $a$ and $b$
  are said to be  congruent modulo $n$ if  $a - b \in n\bbZ$.
\end{definition}
\begin{remark*}
  One of the most beautiful mathematical relationships is $\E[i\pi]+1=0$.
\end{remark*}
\begin{proof}
  Everything that is rare is expensive. A cheap horse is rare.
  So a cheap horse is expensive.
\end{proof}
\end{bodycode}

In the previous example, the \enquote{theorems} have different
formattings. The \nwejmauthorcl{} provides three \enquote{theorem}
styles, \docValue{theorem}, \docValue{definition} and
\docValue{proof}, see their characteristics in 
\vref{env-theorems-styles}.

\begin{table}
  \centering
  % \setlength{\tymin}{\widthof{romain, terminé}}
  \begin{tabulary}{\linewidth}{lLLL}
    Style                 & Recurrent title                  & Content
    & Relevant \enquote{theorems}               \\\toprule
    \docValue{theorem}    & bold, roman, numbered           & italic
                                                                                                  & theorems, corollaries, conjectures, propositions, lemmas, axioms \\\midrule
    \docValue{definition} & bold, roman, numbered            & roman                             & definitions, remarks, examples, notations \\\midrule
    \docValue{proof}      & non bold, italic, non numbered & roman,
                                                             ended
                                                             with a
                                                             white square & proofs                                     \\\bottomrule
  \end{tabulary}
  \caption{Provided \enquote{theorems} styles}
  \label{env-theorems-styles}
\end{table}

\subsubsection{User-defined environments}
\label{sec:envir-de-type-1}

If the \enquote{theorem} environments provided by the  class are not
enough, the \refCom{newtheorem} command can create new ones.

\begin{docCommand}{newtheorem}{\oarg{option(s)}\marg{name}}
  This command creates a new \LaTeX{} environment, \meta{name}, which
  has by default:
  \begin{itemize}
  \item \meta{Name}\footnote{\Ie*{}, regardless of the article
      language,  the \meta{name} of the \LaTeX{} environment with a
      capital initial letter.}  as recurring title;
  \item \docValue{theorem} as a style.
  \end{itemize}
  This command also creates the starry environment  \meta{name}×*×
  which produce unnumbered occurrences of this \enquote{theorem}.
  \end{docCommand}

\begin{preamblecode}[listing options={deletekeywords={[2]article}}]
\newtheorem{article}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]article,label}}]
\begin{article*}[Establishment of the Union]
Reflecting the will of the citizens and States of Europe to build a
common future, this Constitution establishes the European Union  [...]
\end{article*}
\begin{article}[Establishment of the Union]\label{premier}
Reflecting the will of the citizens and States of Europe to build a
common future, this Constitution establishes the European Union  [...] 
\end{article}
\vref{premier} is fundamental.
\end{bodycode}

 If the  default value of the style (\docValue{theorem}) is not
 suitable, you can specify in \meta{option(s)} the desired one with
 the following  \refKey{style} key.
  \begin{docKey}{style}{=\docValue{theorem}\textbar\docValue{definition}\textbar\docValue{proof}}{
      no default value,\\initially \docValue{theorem}}
    This key allows you to specify the style of the \enquote{theorem}
    to be created, using \docValue{theorem}, \docValue{definition} and
    \docValue{proof} values.
  \end{docKey}
\begin{preamblecode}
\newtheorem[style=definition]{fact}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{fact}\label{major}
Everything that is rare is expensive.
\end{fact}
\begin{fact}\label{minor}
A cheap horse is rare.
\end{fact}
According to  \cref{minor,major},  a cheap horse is expensive.
\end{bodycode}

 If the  default value of the recurring title  (\meta{Name}) is not
 suitable, you can specify in \meta{option(s)} the desired one with
 the following  \refKey{title} key.
  \begin{docKey}{title}{={\meta{recurring title}}}{no  default value,
      initially empty}
    This key allows you to specify a \meta{recurring title} different from
    \meta{Name}, regardless of the article language.
  \end{docKey}
\begin{preamblecode}
\newtheorem[title=experience]{experience}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{experience}\label{one}
A 6-sided dice is rolled [...]
\end{experience}
\begin{experience}\label{two}
Two 6-sided dice are rolled [...]
\end{experience}
The \vref{one,two} highlight [...]
\end{bodycode}

  Note that, in the case of cross-references using the \refCom{vref}\footnote{Cf. \vref{sec-references-croisees}}(or
  \refCom{cref})  command, the recurring title of the referenced
  \enquote{theorem(s)}  is automatically added to the reference,
  possibly on its plural form. By default, this latter is obtained by
  adding a final  \enquote{s} in \meta{name} or in \meta{recurring
    title} set in the title option. If this form should be constructed
  differently, this should be specified in \meta{option(s)} using the
  following \refKey{title-plural} key.
  
  \begin{docKey}{title-plural}{={\meta{plural form of the recurring
          title}}}{no default \\value, initially empty}
    This key is used to specify the plural form of the recurring title.
  \end{docKey}
\begin{preamblecode}
\newtheorem[title-plural=rings]{ring}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{ring}\label{ring}
Consider a ring: [...]
\end{ring}
\begin{ring}\label{ring-bis}
Consider another ring: [...]
\end{ring}
The \vref{ring,ring-bis} admit [...]
\end{bodycode}

\begin{preamblecode}
\newtheorem[title=ideal,title-plural=ideals]{ideal}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{ideal}\label{ideal}
Consider an ideal: [...]
\end{ideal}
\begin{ideal}\label{ideal-bis}
Consider another ideal: [...]
\end{ideal}
The \vref{ideal,ideal-bis} admit [...]
\end{bodycode}

  % Si besoin est, il est même possible de spécifier des titres récurrents
  % différents selon la langue utilisée au moyen des clés suivantes :
  % \begin{docKey}{title/english}{={\meta{titre récurrent en anglais}}}{pas de
  %     valeur par défaut,\\initialement vide}
  % \end{docKey}
  % \begin{docKey}{title/french}{={\meta{titre récurrent en français}}}{pas de
  %     valeur par défaut,\\initialement vide}
  % \end{docKey}
  % \begin{docKey}{title/german}{={\meta{titre récurrent en allemand}}}{pas de
  %     valeur par défaut,\\initialement vide}
  % \end{docKey}
  % \begin{docKey}{title/dutch}{={\meta{titre récurrent en néerlandais}}}{pas de
  %     valeur par défaut,\\initialement vide}
  %   Ces clés permettent de spécifier un \meta{titre récurrent} différent
  %   de \meta{Nom} pour la langue correspondante.
  % \end{docKey}
%\end{docCommand}

\subsection{Enumerations}
\label{sec:list-dhyp-ou}

To make the composition of enumerations (of hypothesis, assertions,
conditions, etc.) easier, the  \nwejmauthorcl{} provides ready-to-use
environments and allows to create new ones if needed (see the 
\refCom{newenumeration} command).

\subsubsection{Predefined enumerations}
\label{sec:predefinies-:-listes}

In mathematical articles, it is common to enumerate assertions,
hypothesis or conditions and to refer to these. To do this, the
\nwejmauthorcl{} provides three environments: \refEnv{assertions},
\refEnv{hypotheses} and \refEnv{conditions}. Each assertion,
hypothesis or condition is introduced by the \docAuxCommand{item} command.

\begin{docEnvironment}[doclang/environment content=assertions]{assertions}{}
  This environment composes a list of assertions.
\end{docEnvironment}
\begin{docEnvironment}[doclang/environment content=hypothesis]{hypotheses}{}
  This environment composes a list of hypothesis
\end{docEnvironment}
\begin{docEnvironment}[doc new=2019-03-18,doclang/environment content=conditions]{conditions}{}
  This environment composes a list of  conditions.
\end{docEnvironment}

\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{axiom}\label{my-axiom}
  Each of the following assertions are admitted.
  \begin{assertions}
  \item\label{rare-expensive} Everything that is rare is expensive.
  \item\label{horse}A cheap horse is rare.
  \end{assertions}
\end{axiom}
According to the \vref{rare-expensive, horse} of \vref{my-axiom}, a
cheap horse is expensive.
\end{bodycode}

\subsubsection{User-defined enumerations}

If the enumerations provided by the  class are not enough, it is
possible to create new ones via the \refCom{newenumeration} command.

\begin{docCommand}[doc new=2019-03-18]{newenumeration}{\oarg{option(s)}\marg{name}}
  This command create a new \LaTeX{}  environment , \meta{name}, which
  is used as the usual \docAuxEnvironment{enumerate} environment of
  ordered lists and in which each item is introduced by the
  \docAuxCommand{item} command.

\begin{preamblecode}
\newenumeration{conventions}
\end{preamblecode}
\begin{bodycode}[listing and text]
\begin{conventions}
\item The horse is cheap.
\item The horse is expensive.
\end{conventions}
\end{bodycode}

We note that each listed item has a default label consisting of the
initial of the \meta{name} indexed by an Arabic numeral, all in
parentheses. If this label is not suitable, we can specify the desired
one in  the \meta{option(s)} with the  \refKey{label} key.
  \begin{docKey}{label}{={\meta{label}}}{no  default value, initially initial of \meta{name}}
    This key is used to specify a \meta{label} different from the
    initial of the environment \meta{name}.
  \end{docKey}
\renewenumeration[label=K]{conventions}
\begin{preamblecode}
\newenumeration[label=K]{conventions}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{conventions}
\item\label{k-one} The horse is cheap. 
\item\label{k-two} The horse is expensive. 
\end{conventions}
See \vref{k-one}. See \vref{k-one,k-two}.
\end{bodycode}

Note that when cross-referencing using the \refCom{vref} (or
\refCom{cref}) command\footnote{See \vref{sec-references-croisees}},
the \meta{name} of the referenced enumerations is automatically added
to the reference, in its singular or plural form as appropriate. By default,
\begin{description}
\item[The plural form] is the  \meta{name} ;
\item[The singular form] is obtained by deleting the last
  letter\footnote{Supposed to be an \enquote{s}.} of the  \meta{name}.
\end{description}


If these singular or plural forms must be built differently,  they
should be specified in the \meta{option(s)} via
the following \refKey{singular} and \refKey{plural} keys.
  \begin{docKey}{singular}{={\meta{singular form of the
          enumeration}}}{no default value,\\initially empty}
    This key is used to specify the singular form of the enumeration.
  \end{docKey}
  \begin{docKey}{plural}{={\meta{plural form of the
          enumeration}}}{no default value,\\initially empty}
    This key is used to specify the plural form of the enumeration.
  \end{docKey}
\begin{preamblecode}
\newenumeration[singular=criterion]{criteria} % Otherwise, sing. form = “criteri”.
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{criteria}
\item\label{criterion-one} The horse is cheap.
\item\label{criterion-two} The horse is expensive.
\end{criteria}
See \vref{criterion-one}. See \vref{criterion-one,criterion-two}.
\end{bodycode}

\begin{preamblecode}
\newenumeration[singular=rôle,plural=rôles]{roles}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={deletekeywords={[2]label}}]
\begin{roles}
\item\label{role-one} The horse is cheap.
\item\label{role-two} The horse is expensive.
\end{roles}
Cf. \vref{role-one}. Cf. \vref{role-one,role-two}.
\end{bodycode}
%
\end{docCommand}

If necessary, the \refCom{renewenumeration} command can be used to
redefine an enumeration previously defined with the
\refCom{newenumeration} command.

\begin{docCommand}[doc new=2019-03-18]{renewenumeration}{\oarg{option(s)}\marg{name}}
  This command redefines the enumeration environment \meta{name}. Its
  \meta{option(s)} are the same as those of the 
  \refCom{newenumeration} command.
\end{docCommand}

\section{Generalist commands}
\label{sec:comm-gener}

In addition to math-specific commands, the \nwejmauthorcl{} provides
generalist commands to make easier the input of an article to be
published in  \nwejm{}.


\begin{docCommand}{ie(*)}{}
  This command displays the phrase  \enquote{\ie*{}} translated into
  the language of the article, in the form:
  \begin{description}
  \item[\emph{non} starred:] abbreviated to \enquote{\ie{}} ;
  \item[starred:] in unabbreviated form \enquote{\ie*{}}.
  \end{description}
\end{docCommand}

\begin{docCommand}{Ie(*)}{}
  This command displays the phrase \enquote{\Ie*{}} translated into
  the language of the article, in the form: 
  \begin{description}
     \item[\emph{non} starred:] abbreviated to \enquote{\Ie{}} ;
  \item[starred:] in unabbreviated form \enquote{\Ie*{}}.
  \end{description}
\end{docCommand}

\begin{docCommand}{century(*)}{\marg{number}}
  This command displays the ordinal of the \meta{number}\footnote{This
    number must be a non-zero integer, negative if
    appropriate.}\footnote{In French and German,  \meta{number} is
    written in Roman numerals and small capitals.} of a century,
  followed by the word  \enquote{century} translated into the article language
  and  by the possible mention that it is a century before our era. Thus:
\begin{bodycode}[listing and text]
In the \century{-1}, [...]. Later, in the \century{8}, [...]
\end{bodycode}
  The starred version displays only the ordinal (unless the  \meta{number} is
  negative). Thus:
\begin{bodycode}[listing and text]
Agriculture in the \century*{-1} was [...].
The poetry of the \century*{19} has profoundly marked [...].
\end{bodycode}
\end{docCommand}

\begin{docCommand}{aside(*)}{\marg{text}}
  This command allows you to compose  \meta{text} between long dashes.
  \begin{description}
  \item[In the non starred form,] it inserts the  \meta{text}  between
    two long dashes.
  \item[In the starred form,]  the \meta{text} is simply preceded by a
    dash. This is to be used at the end of a sentence.
  \end{description}
  Thus :
  \begin{bodycode}[listing and text]
Experiences \aside{in the \enquote{real} word} have been triggered by digital experiences.   
\end{bodycode}
  and:
\begin{bodycode}[listing and text,listing options={deletekeywords={example}}]
It is suspected not  \aside*{for example it is expected that  $1/\pi$  is not a period}.
\end{bodycode}
\end{docCommand}

\begin{docCommand}{nwejm}{}
  This command displays:
  \begin{description}
  \item[In the \emph{non} starred form:] the abbreviated version \enquote{\nwejm{}};
  \item[In the  starred form:] the \emph{non} abbreviated version \enquote{\nwejm*{}}.
  \end{description}
\end{docCommand}

\section{Selection of tools from third party packages}

This section lists some tools (commands and environments) provided by
packages automatically loaded by the
\nwejmauthorcl\footnote{L'\vref{sec-packages-charges-ou-pas} lists
  those whose features may be useful for authors.}.

\begin{dbwarning}{Non-exhaustive list of features from third party packages}{}
  This lists is  \emph{non exhaustive}:
  \begin{itemize}
  \item Only a tiny fraction of the existing packages are loaded by
    the class;
  \item Only some of the packages loaded by the class are mentioned;
  \item Only some features of the mentioned packages are
    described. More information is available in the documentation of
    these packages.
  \end{itemize}
\end{dbwarning}

\subsection{Cross-referencing}
\label{sec-references-croisees}

\DeclareFixedFootnote{\objets}{Section, equation, theorem, figure,
  array, etc.}

The \Package*{cleveref} package makes cross-referencing powerful. In
particular, it provides the following commands \refCom{cref} and \refCom{vref}.

\begin{docCommand}{cref}{\brackets{\meta{label$_1$},...,\meta{label$_n$}}}
  If one or more objects\objets{} are labelled with
  \lstinline[deletekeywords={[2]label}]×\label{×\meta{label$_1$}×}×,...,
  \lstinline[deletekeywords={[2]label}]×\label{×\meta{label$_n$}×}×, the command
  \refCom{cref}:
  \begin{itemize}
  \item  displays their numbers\footnote{Surrounded by brackets where
      customary, e.g. for equations.};
  \item detects their nature\objets{} and displays the corresponding
    keywords\footnote{Feature provided by the \Package{cleveref}
      package.} before their numbers, automatically translated into
    the article language\footnote{Feature
      provided by the \nwejmauthorcl.}. 
  \end{itemize}
  %
\begin{bodycode}[listing and text]
Please refer to \cref{sec-title,sec-authors} [...]
\end{bodycode}
\end{docCommand}

\begin{docCommand}{vref}{\brackets{\meta{label$_1$},...,\meta{label$_n$}}}
  This command:
  \begin{itemize}
  \item includes the features of \refCom{cref};
  \item displays\footnote{Or not, depending on the context.} the
    (numbers of the) pages where they are located\footnote{Feature
      provided by the \Package{varioref}.} after the numbers of
    the referenced objects.
  \end{itemize}

  %
\begin{bodycode}[listing and text]
Please refer to \vref{sec-title,sec-authors} [...]
\end{bodycode}
\end{docCommand}

\begin{dbremark}{Hyperlinks to a referenced object}{}
  The numbers and  possible \aside{numbers of} pages of the
  cross-references created with \refCom{cref} and \refCom{vref}
 are hyperlinks to referenced objects\footnote{Feature provided by the \Package{hyperref}.}.
\end{dbremark}

% \begin{dbremark}{\docAuxCommand{ref} et \docAuxCommand{eqref} : clones de \protect\refCom{vref}}{}
%   Les traditionnelles commandes \docAuxCommand{ref} et \docAuxCommand{eqref} ont
%   été redéfinies par la \nwejmauthorcl pour fonctionner de façon identique
%   à \refCom{vref}.
% \end{dbremark}

% \subsection{\enquote{Équations} (non-)numérotées}
% \label{sec:equat-non-numer}
%
% Le lecteur, rompu à la composition de formules de mathématiques, connaît
% certainement le \Package*{amsmath} et les environnements qu'il fournit :
% \begin{itemize}
% \item ×equation×, ×align×, ×gather×, ×multline× et ×flalign× qui numérotent
%   leur contenu ;
% \item ×equation*×, ×align*×, ×gather*×, ×multline*× et ×flalign*× qui \emph{ne}
%   numérotent \emph{pas} leur contenu ;
% \end{itemize}
% et utilise les premiers si (et seulement si, théoriquement) les contenus
% correspondants font l'objet de références croisées.
%
% Avoir à choisir entre les versions numérotées ou pas présente au moins deux
% inconvénients pour l'utilisateur :
% \begin{enumerate}
% \item cela l'oblige à se poser à chaque fois la question de la pertinence de la
%   numérotation de sa formule ;
% \item son choix peut ultérieurement s'avérer caduc\footnote{Et donc nécessiter
%     de passer par exemple d'un environnement étoilé à un non-étoilé \aside*{donc
%       avec ajout d'un label}.}.
% \end{enumerate}
% Pour pallier cela, la \nwejmauthorcl{} charge automatiquement le
% \Package{autonum} qui :
% \begin{enumerate}
% \item permet de ne recourir qu'aux environnements non-étoilés ;
% \item assure automatiquement que les formules effectivement numérotées seront
%   celles, et seulement celles, s'avérant faire l'objet de références croisées au
%   sein du document.
% \end{enumerate}
%
% \begin{bodycode}[listing and text]
% L'\vref{euler-identity} mérite une référence croisée.
% \begin{equation}\label{euler-identity}
%   \E[\I\pi]+1=0
% \end{equation}
% C'est bien la seule ici.
% \begin{equation}\label{not-interesting}
%   0=0
% \end{equation}
% Malheureusement.
% \begin{equation}
%   1=1
% \end{equation}
% \end{bodycode}

\subsection{Acronyms}
\label{sec:acronymes}

Acronyms often need to be used in mathematical articles. To this end,
the \Package{glossaries}  offers a very efficient and simple feature:
just use the commands:
\begin{itemize}
\item \refCom{newacronym} to \emph{define} an acronym;
\item \refCom{gls} (or \refCom{acrshort}) to \emph{display} an acronym.
\end{itemize}

\begin{docCommand}{newacronym}{\marg{key}\marg{short form}\marg{long form}}
  This command, best used in the preamble,  defines an acronym where:
  \begin{enumerate}
  \item \meta{key} identifies the acronym uniquely in the 
    document\footnote{The author should be careful not to use the same
      key twice  to identify different acronyms.};
  \item \meta{short form} is  the acronym itself;
  \item \meta{long form} is the meaning of the acronym.
  \end{enumerate}
\begin{dbwarning}{Short form of acronyms: in lowercase}{}
  The \meta{short form} of an acronym has to be entered exclusively
  in lowercase since it will be actually composed in small capitals.
\end{dbwarning}
\end{docCommand}

\begin{docCommand}{gls}{\marg{key}}
  This command displays the acronym identified by \marg{key}
  according to the following principle:
  \begin{enumerate}
  \item The first occurrence of this command in the document displays
    the acronym in its \emph{complete} form, \ie*{} its \meta{long
      form} followed by its \meta{short form} in brackets;
  \item The following ones  display the acronym only in \meta{short form}.
  \end{enumerate}
\end{docCommand}

\begin{preamblecode}[listing options={alsolanguage={[glossaries]TeX}}]
\newacronym{bap}{bap}{bounded approximation property}
\end{preamblecode}
\begin{bodycode}[listing and text,listing options={alsolanguage={[glossaries]TeX}}]
\begin{enumerate}
\item \gls{bap},
\item \gls{bap}.
\end{enumerate}
\end{bodycode}

\begin{docCommand}{acrshort}{\marg{key}}
  This command displays  (only)  the \meta{short form} of the acronym,
  whatever the  context\footnote{\Ie*{} even if it is the first time the acronym is used in the  document.}.
\end{docCommand}

\begin{dbremark}{The \refCom{acrshort} command: useful in a title}{}
  The \refCom{acrshort} command can be useful in particular in the
  article title where you do not want the full form of an acronym to
  be detailed.
\end{dbremark}

The \Package*{glossaries} provides many other commands and
features\autocite[For more  details, see for instance][]{Bitouze7}.

\subsection{Quotes, citations}
\label{sec-guillemets-citations}

The \Package*{csquotes} is dedicated to formal and informal citations,
and text excerpts. It includes the following easy-to-use \refCom{enquote}
command.

\begin{docCommand}{enquote}{\marg{text}}
  This command composes the \meta{text} in quotation marks, automatically
  adapted to:
  \begin{itemize}
  \item The typographic standards of the current language. It will
    therefore be used whenever text is to be enclosed in quotes;
  \item The level  (1 or 2) of \enquote{citation} in case of
    nesting. It can therefore be used whenever text is to be
    informally quoted.
  \end{itemize}
\begin{bodycode}[listing and text,listing
  options={alsolanguage={[csquotes]TeX}}]
he replied: \enquote{Courteline used to say: \enquote{To be taken for
    an idiot in the eyes of an imbecile is the pleasure of a fine gourmet.}}
\end{bodycode}
\end{docCommand}

\begin{docCommand}{blockcquote}{\marg{key}\marg{excerpt}}
  This command allows you to quote an \meta{excerpt}
  formally\footnote{\Ie*{} with details of the  source.}. The
  corresponding bibliographic reference must be included in one of the
   added \footnote{Using the  \docAuxCommand{addbibresource} command}  \file{.bib} files
  and identified by the key \meta{key}.

\renewcommand{\thempfootnote}{\arabic{mpfootnote}}
\begin{bodycode}[listing and text,listing options={alsolanguage={[biblatex]TeX},alsolanguage={[csquotes]TeX},deletekeywords={[3]footnote}}]
\citeauthor{Bitouze} specifies that:
\blockcquote{Bitouze}{%
  \textins{This} command composes the citations by detaching 
  automatically from the current paragraph those which are
  long.%
}.
\end{bodycode}
% \footnote{By default, those exceeding  3~lines.}
\renewcommand{\thempfootnote}{\alph{mpfootnote}}
\end{docCommand}

The \refCom{blockcquote} command has optional arguments allowing to
add text \meta{prior} and/or \meta{subsequent} to the excerpt
citation\autocite[For more details, see for instance][]{Bitouze}.

% (\textsc{À suivre...})

\subsection{Web addresses (\texorpdfstring{\acrshort{url}}{URL})}
\label{sec-url}

The \Package*{hyperref} provides (among other things) the \refCom{url}
command, which makes it easy the display of web adresses, also known
as \enquote{\gls{url}}, even if they contain special \TeX{} characters (×#×,
%
\lstinline[commentstyle={}]+%+,
%
×_×, ×~×, ×&×, etc.): these characters can therefore be entered as
they are, unless the  \refCom{url} command is used in the argument of
another command\footnote{For instance
  \protect\docAuxCommand*{footnote}.}, in which case the ×#× and
%
\lstinline[commentstyle={}]+%+
%
characters must be preceded by the backslash command ×\×.

\begin{docCommand}{url}{\marg{Web address}}
  This command displays  the \meta{Web address} entered  \emph{as is}
  and makes it a hypertext link.
\begin{bodycode}[listing and text,listing options={alsolanguage={[hyperref]TeX},deletekeywords={[2]url}}]
We refer to the instructions to authors on our website
\url{http://math.univ-lille1.fr/~nwejm/#Authors}.
\end{bodycode}
\end{docCommand}

\subsection{Lists  within paragraphs}
\label{sec:listes-en-ligne}

The reader is certainly familiar with the \docAuxEnvironment{itemize}, \docAuxEnvironment{enumerate} and
\docAuxEnvironment{description} environments for creating respectively
unordered\footnote{\enquote{Bulleted}.}, ordered\footnote{\Ie*{}
  numbered} and \enquote{description} lists. The \Package*{enumitem}
provides starred versions of these environments which compose these
lists within the same paragraph\footnote{The first aim of this package
  is to customize lists, but this is not recommended in the \nwejm{}
  framework as it may contravene its typographic approach.}.

\begin{docEnvironment}[doclang/environment content=list]{itemize*}{}
  This environment composes a \enquote{bulleted} list.
\end{docEnvironment}
\begin{docEnvironment}[doclang/environment content=list]{enumerate*}{}
   This environment composes a \enquote{numbered} list. 
\end{docEnvironment}
\begin{docEnvironment}[doclang/environment content=list]{description*}{}
   This environment composes a \enquote{description} list.
\end{docEnvironment}

\begin{bodycode}[listing and text,listing options={alsolanguage={[hyperref]TeX},deletekeywords={math},deletekeywords={[2]url,math}}]
\begin{enumerate}
\item The data I have collected [...]
\item The data I have collected  are 
  \begin{enumerate*}
  \item publicly available on the internet: web pages and CVs of speakers;
  \item accessible via Wikipedia, through the precious 
    \enquote{mathematics genealogy project}
    (\url{http://genealogy.math.ndsu.nodak.edu/});
  \item for 60 of the speakers for whom my information was too incomplete, [...].
  \end{enumerate*}
\end{enumerate}
\end{bodycode}

\appendix

\section{Typical source file outline}
\label{sec-canevas-de-fichier}

Readers wishing to write an article in the \nwejm*{} will below an
outline of a source file which is a typical template for a standard
article. The less frequent commands and environments have been
commented out. It is attached to the PDF file of this
documentation\footnote{To extract it, it should be enough to click on
  the icon below. It can also be copied and pasted: most \textsc{pdf} viewers
  allow you to select and copy text.}.
%
\newcommand{\attachfilename}{template.tex}%
\newcommand{\attachfiletextlink}{Typical source file outline}%
\tcbinputlisting{%
  samples,
  fontupper=\scriptsize\ttfamily,
  listing only,
  listing file=../examples/\attachfilename,
  title={\attachfiletextlink\ \attachfile{../examples/\attachfilename}},%
  listing options={alsolanguage={[biblatex]TeX},deletekeywords={[2]title,author,keywords},deletekeywords={[5]keywords},extendedchars=true}
}

\section{Packages loaded (or not) by the class}\label{sec-packages-charges-ou-pas}

\subsection{Packages loaded by the class}\label{sec:packages-charges-par}

We have seen that, for several of its features, the  \nwejmauthorcl{}
relies on automatically loaded packages. Those whose features can be
useful to the authors of  \nwejm{}  articles are listed below. Their
function and possible option(s) are indicated.

In addition to the specific tools to the \nwejmauthorcl, all those
provided by these different packages are therefore available to \nwejm{}
authors.

\begin{description}
\item[\package{nag}:] reporting\footnote{In the form of  \emph{warnings}.} of obsolete  packages, commands and environments:
  \begin{description}
  \item[default options:] \docAuxKey{l2tabu}, \docAuxKey{orthodox};
  \end{description}
\item[\package{kpfonts} :] main font of the document:
  \begin{description}
  \item[default options:] \docAuxKey{noDcommand};
  \end{description}
\item[\package{graphicx}:] image inclusion;
\item[\package{subcaption}:] sub-figures and sub-arrays;
\item[\package{adjustbox}:] adjusting box position, for example of images;
\item[\package{xspace}:] defining commands that don't  \enquote{eat}
  the space that follows;
\item[\package{array}:] extending (and bug-fixing) array  environments;
\item[\package{booktabs}:] professional-looking arrays;
\item[\package{csquotes}:] informal and formal citations\footnote{With
     citation of sources,
    see \vref{sec-guillemets-citations}.}:
    \begin{description}
    \item[default  option:] \docAuxKey{autostyle};
    \item[default setting:]
      \lstinline[alsolanguage={[csquotes]TeX},alsolanguage={[biblatex]TeX}]×\SetCiteCommand{\autocite}×;
  \end{description}
\item[\package{biblatex}:] powerfull bibliography management;
\item[\package{datetime2}:] date  and time formats:
  \begin{description}
  \item[default option:] \docAuxKey{useregional};
  \end{description}
\item[\package{hyperref} :] support for hyperlinks\footnote{See \vref{sec-url}.}:
  \begin{description}
  \item[default option:] \docAuxKey{hidelinks},
    \docAuxKey{pdfencoding}\lstinline[alsolanguage={[hyperref]TeX}]×=unicode×,
    \docAuxKey{final}, \docAuxKey{breaklinks},
    \docAuxKey{hypertexnames}×=false×;
  \end{description}
\item[\package{glossaries}:] creation of glossaries and  (lists of) acronyms:
  \begin{description}
  \item[default option:] \docAuxKey{nowarn};
  \end{description}
\item[\package{varioref}:] smart page references.
\item[\package{cleveref}:] smart cross-referencing\footnote{See \vref{sec-references-croisees}.};
  \begin{description}
  \item[default option:] \docAuxKey{french}, \docAuxKey{ngerman},
    \docAuxKey{dutch}, \docAuxKey{english}, \docAuxKey{noabbrev},
    \docAuxKey{capitalize}.
  \end{description}
\end{description}

\subsection{Packages not loaded by the  class}\label{sec:packages-non-charges}

The following list, for from being exhaustive, lists packages not
loaded by the \nwejmauthorcl{} but which may prove useful to
authors. In addition, when manually loaded, some of them have options
or settings set by the \nwejmauthorcl{}, the most notable of which are specified. 

\begin{description}
\item[\package{tikz-cd}:] easy creation of very high quality
  commutative diagrams\footnote{The \Package{xy}, often used for such
    diagrams, is incompatible with the  present class:
    See \vref{sec-incompatibilites}.};
\item[\package{pgfplots}:] easy creation of very high quality ($2$D
  or $3$D) figures to represent functions or experimental data;
\item[\package{siunitx}:] management of numbers, angles and units, and vertical
  alignment on the  decimal separator in tables:
  \begin{description}
  \item[default option:]\
    \begin{itemize}
    \item \docAuxKey{detect-all};
    \item \docAuxKey{locale}×=×\docValue{FR} or \docValue{UK} or \docValue{DE}
      depending on the article language;
    \end{itemize}
  \end{description}
\item[\package{listings}:] insertion of computer listings;
\item[\package{todonotes}:] insertion of
  \enquote{TODO}\footnote{Reminders of points to add, complete,
    modify, etc.}.
\end{description}

\section{Incompatibilities}
\label{sec-incompatibilites}

For technical reasons, the \nwejm{} does not accept a \file{.tex}
source file loading the \Package{xy} and the  \nwejmauthor{} will
issue an error in that case. The user who has to compose
\enquote{matrix-like} diagrams, and especially commutative diagrams,
should use the modern and user-friendly \Package{tikz-cd}.

\section{Notations, syntax, terminology and colour coding}\label{sec-synt-term-notat}

We specify here the  notations, syntax, terminology and colour coding
of this documentation.

\subsection{Commands, environments, keys, values}\label{sec-comm-envir-cles}

Commands, environments, keys and key values are systematically composed
in monospaced font. In addition, to distinguish them easily, these are
displayed with their own colours: 
\begin{itemize}
\item blue commands: \docAuxCommand*{command};
\item \enquote{teal} environments:
  \docAuxEnvironment*{environment};
\item purple keys: \docAuxKey*{key};
\item violet keys values: \docValue*{value}.
\end{itemize}

\subsection{Generic arguments}
\label{sec-arguments-generiques}

To explain the role of a command, it is sometimes necessary to
indicate what it applies to. In other words, what its generic argument
is.  Such an argument is composed:
\begin{itemize}
\item in monospaced  font;
\item in italics;
\item between single rafters;
\end{itemize}
all in brown, thus: \meta{generic argument}.

\subsection{Hyperlinks}
\label{sec-liens-hypertextes}

Hyperlinks are shown in colour, as follows:
\href{http://gte.univ-littoral.fr/members/dbitouze/pub/latex}{hyperlink}. Most
references to commands, environments and keys defined in this document
are hyperlinks, topped by the page number where the corresponding
target is located (unless it is on the same page):
\begin{itemize}
\item \refCom{author};
\item \refEnv{abstract}.
\end{itemize}


\subsection{\enquote{Mandatory} elements}
\label{sec-comm-oblig}

The \mandatory{} icon next to certain items (commands or
environments) indicates that they are \enquote{mandatory}.

\subsection{Source codes}
\label{sec-codes-sources}

The examples in this documentation consist of source code and, where
appropriate, the corresponding \endquote{screen shots}.
% Ceux-ci proviennent le plus souvent du spécimen de document composé avec la
% \yatcl, fourni avec l'ensemble de la classe
% (cf. \vref{sec-specimen-arborescence}).

These source codes are shown in blue boxes, which may include a title:
\begin{itemize}
\item unshaded if they are to be entered in the body of the document;
\begin{bodycode}
"\meta{source code}"
\end{bodycode}
\begin{bodycode}[title=\meta{title}]
"\meta{source code}"
\end{bodycode}
\item shaded if they are to be entered in the preamble of the file.
\begin{preamblecode}
"\meta{source code to be inserted in preamble}"
\end{preamblecode}
\begin{preamblecode}[title=\meta{title}]
"\meta{source code to be inserted in preamble}"
\end{preamblecode}
\end{itemize}

\subsection{Spaces in source code}
\label{sec-espaces-dans-les}

To avoid confusion, spaces in source code that must be entered using
the keyboard are sometimes realized with the \lstinline[showspaces]+ +. mark.

\subsection{Options}
\label{sec-options}

This class, and some of its commands and environments, can be adjusted
with options, or lists of options (separated by commas). These options
can be in the form \meta{key}×=×\meta{value}  and the inputted
\meta{value} can be:
%^^A \begin{description}
%^^A \item[ne prennent pas de valeur.] Une telle option, par exemple nommée
%^^A   \refKey{option}, est alors documentée selon la syntaxe suivante:
%^^A     \begin{docKey*}{option}{}{\meta{valeurs par défaut et initiale}}
%^^A       \meta{Description de \refKey{option}}
%^^A     \end{docKey*}
%^^A \item[prennent des valeurs.] Une telle option se présente alors sous la forme
%^^A   \meta{clé}"="\meta{valeur}. Les valeurs passées à une clé peuvent être :
\begin{description}
\item[free.] If such a \meta{key} is for instance named
  \refKey{freekey},  then it is documented according to the following syntax: 
  \begin{docKey*}{freekey}{=\meta{value}}{\meta{default
        and initial values}}
    \meta{Description of \refKey{freekey}}
  \end{docKey*}
\item[imposed] (from a list of possible values). If such a \meta{key}
  is for instance named \refKey{choicekey}  and with imposed values
  \docValue*{value1}, \dots{}, \docValue*{valueN},  then it is
  documented according to the following syntax\footnote{As is often
    the case in computing, the vertical bar to separate the possible
    values means \enquote{or}.}:
  \begin{docKey*}{choicekey}{=\docValue*{value1}\textbar...\textbar\docValue*{valueN}}{\meta{default
        and initial values}}
    \meta{Description of \refKey{choicekey} and its possible values}
  \end{docKey*}
\end{description}
%^^A \end{description}

The \meta{default and initial values} of a key are often specified (in
brackets at the end of a line). They indicate the value of the key: 
\begin{description}
\item[by default] i.e. when the key \emph{is} used \emph{alone}
  i.e. without any explicit value imputed;
\item[initially] i.e. when the key \emph{is not} used.
\end{description}
%
\printbibliography[category=documentation]
%
% \tcblistof{dbwarninglist}{Table des
%   avertissements\addcontentsline{toc}{section}{Table des avertissements}}%
% \tcblistof{dbremarklist}{Table des remarques\addcontentsline{toc}{section}{Table
%     des remarques}}%
% \tcblistof[\chapter*]{dbexamplelist}{Table des exemples\addcontentsline{toc}{chapter}{Table des exemples}}%
% \tcblistof[\chapter*]{dbfaqlist}{Table des
% questions\addcontentsline{toc}{chapter}{Table des questions}
%
\printindex
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
